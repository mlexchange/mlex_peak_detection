version: '3'

services:
  mongo:
    image: mongo
    restart: always
    container_name: "mongodb"
    working_dir: "/mongodbdata/"
    ports:
      - '27017:27017'
    volumes:
      - "./mongodbdata/:/data/db"
    #environment
    #  MONGO_INITDB_ROOT_USERNAME: root
    #  MONGO_INITDB_ROOT_PASSWORD: example

volumes: #create named dir and link it to the data folder, so all services can use
  data-m:
    driver: local
    driver_opts:
      type: "none"
      device: "${PWD}/data/"
      o: "bind"